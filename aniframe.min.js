!function(t){function i(t){return window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle}function n(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}function o(t){var o=i(t.target);return this.options={width:parseInt(o.width),height:parseInt(o.height),speed:100,direction:"x",loop:!0,onPlaying:function(){},onPlayEnd:function(){}},n(this.options,t),this.init(),this}o.prototype.init=function(){var t=this.options;this.index=0,this.timer=null,this.status="stopped","y"===t.direction?t.target.style.backgroundSize=t.width+"px "+t.totalFrame*t.height+"px":t.target.style.backgroundSize=t.totalFrame*t.width+"px "+t.height+"px",t.target.style.backgroundImage="url("+t.url+")"},o.prototype._play=function(){var t=this.options;if(this.index++,this.index>=this.options.totalFrame){if(t.onPlayEnd(),!this.options.loop)return void this.stop();this.index=0}"y"===t.direction?t.target.style.backgroundPosition="0px -"+t.height*this.index+"px":t.target.style.backgroundPosition="-"+t.width*this.index+"px 0px",t.onPlaying(this.index,t.totalFrame)},o.prototype.play=function(){this.timer=setInterval(this._play.bind(this),this.options.speed),this.status="playing"},o.prototype.pause=function(){clearInterval(this.timer),this.timer=null,this.status="paused"},o.prototype.stop=function(){this.pause(),this.index=0,this.status="stopped"},o.prototype.toggle=function(t){"playing"!==this.status?this.play():"stop"===t?this.stop():this.pause()},t.AniFrame=o}(window);