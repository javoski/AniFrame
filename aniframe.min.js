!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.AniFrame=i()}(this,function(){function t(t){return window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle}function i(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function e(n){if(!(this instanceof e))return new e(n);var o=t(n.target);this.options={width:parseInt(o.width),height:parseInt(o.height),speed:100,direction:"x",loop:!0,onPlaying:function(){},onPlayEnd:function(){}},i(this.options,n),this.init()}return e.prototype.init=function(){var t=this.options;this.index=0,this.timer=null,this.status="stopped","y"===t.direction?t.target.style.backgroundSize=t.width+"px "+t.totalFrame*t.height+"px":t.target.style.backgroundSize=t.totalFrame*t.width+"px "+t.height+"px",t.target.style.backgroundImage="url("+t.url+")"},e.prototype._play=function(){var t=this.options;if(this.index++,this.index>=this.options.totalFrame){if(t.onPlayEnd(),!this.options.loop)return void this.stop();this.index=0}"y"===t.direction?t.target.style.backgroundPosition="0px -"+t.height*this.index+"px":t.target.style.backgroundPosition="-"+t.width*this.index+"px 0px",t.onPlaying(this.index,t.totalFrame)},e.prototype.play=function(){this.timer=setInterval(this._play.bind(this),this.options.speed),this.status="playing"},e.prototype.pause=function(){clearInterval(this.timer),this.timer=null,this.status="paused"},e.prototype.stop=function(){this.pause(),this.index=0,this.status="stopped"},e.prototype.toggle=function(t){"playing"!==this.status?this.play():"stop"===t?this.stop():this.pause()},e});